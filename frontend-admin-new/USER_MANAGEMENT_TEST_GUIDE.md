# 用户管理功能测试指南

## 测试前准备

### 1. 确保后端服务运行
- 启动后端服务（通常在 `backend` 目录）
- 确保数据库连接正常
- 确认以下API接口可用：
  - `/admin/users` - 管理员用户相关接口
  - `/users` - 商城用户相关接口

### 2. 确保前端服务运行
- 在 `frontend-admin-new` 目录启动开发服务器
- 确保已登录管理员账号

## 功能测试步骤

### 一、页面访问测试

1. **访问用户管理页面**
   - 在浏览器地址栏输入：`/users`
   - 验证页面正常加载
   - 验证显示两个Tab：「后台管理用户」和「商城用户」

2. **Tab切换测试**
   - 点击「后台管理用户」Tab
   - 点击「商城用户」Tab
   - 验证Tab切换正常，内容正确显示

### 二、后台管理用户功能测试

#### 2.1 列表展示测试
1. 进入「后台管理用户」Tab
2. 验证用户列表正常加载
3. 检查表格列是否完整：头像、用户名、真实姓名、手机号、角色、状态、最后登录、创建时间、操作
4. 验证分页功能正常

#### 2.2 搜索功能测试
1. 在搜索框输入用户名关键词
2. 点击搜索或按回车
3. 验证搜索结果正确
4. 测试清空搜索条件

#### 2.3 筛选功能测试
1. **角色筛选**：
   - 选择「超级管理员」
   - 验证只显示超级管理员用户
   - 选择「普通管理员」
   - 验证只显示普通管理员用户
   - 清空筛选条件

2. **状态筛选**：
   - 选择「启用」
   - 验证只显示启用状态用户
   - 选择「禁用」
   - 验证只显示禁用状态用户

#### 2.4 新增用户测试
1. 点击「新增用户」按钮
2. 填写表单：
   - 用户名：`test_admin`
   - 密码：`123456`
   - 真实姓名：`测试管理员`
   - 手机号：`13800138000`
   - 角色：选择一个角色
   - 状态：启用
3. 点击「创建」
4. 验证创建成功提示
5. 验证用户列表中出现新用户

#### 2.5 编辑用户测试
1. 点击某个用户的「编辑」按钮
2. 修改用户信息（如真实姓名）
3. 点击「更新」
4. 验证更新成功提示
5. 验证用户信息已更新

#### 2.6 重置密码测试
1. 点击某个用户的「重置密码」按钮
2. 确认操作
3. 验证显示新密码的弹窗
4. 记录新密码用于后续测试

#### 2.7 启用/禁用测试
1. 点击某个启用用户的「禁用」按钮
2. 确认操作
3. 验证用户状态变为禁用
4. 点击「启用」按钮
5. 验证用户状态变为启用

#### 2.8 删除用户测试
1. 点击某个用户的「删除」按钮
2. 确认删除操作
3. 验证删除成功提示
4. 验证用户从列表中消失

### 三、商城用户功能测试

#### 3.1 列表展示测试
1. 切换到「商城用户」Tab
2. 验证用户列表正常加载
3. 检查表格列：头像、用户名、邮箱、手机号、地址、注册时间、更新时间、操作

#### 3.2 搜索功能测试
1. 在搜索框输入用户名、邮箱或手机号
2. 验证搜索结果正确
3. 测试清空搜索条件

#### 3.3 查看详情测试
1. 点击某个用户的「查看详情」按钮
2. 验证详情弹窗正常显示
3. 检查详情信息完整性
4. 关闭弹窗

#### 3.4 编辑用户测试
1. 点击某个用户的「编辑」按钮
2. 修改用户信息
3. 点击「更新」
4. 验证更新成功

#### 3.5 删除用户测试
1. 点击某个用户的「删除」按钮
2. 确认删除操作
3. 验证删除成功

## 错误场景测试

### 1. 网络异常测试
- 断开网络连接
- 尝试加载用户列表
- 验证错误提示正确显示

### 2. 表单验证测试
- 提交空的必填字段
- 输入无效的邮箱格式
- 输入无效的手机号格式
- 验证错误提示正确显示

### 3. 权限测试
- 尝试删除自己的账号（应该被阻止）
- 尝试禁用自己的账号（应该被阻止）

## 响应式测试

### 1. 桌面端测试
- 在不同分辨率下测试（1920x1080, 1366x768）
- 验证布局正常

### 2. 移动端测试
- 使用浏览器开发者工具模拟移动设备
- 测试iPhone、iPad等不同尺寸
- 验证表格可以横向滚动
- 验证操作按钮布局合理

## 性能测试

### 1. 大数据量测试
- 如果有大量用户数据，测试列表加载性能
- 测试搜索响应速度
- 测试分页切换速度

### 2. 并发操作测试
- 同时进行多个操作（如搜索、筛选、编辑）
- 验证操作不会相互干扰

## 常见问题排查

### 1. 页面无法加载
- 检查路由配置是否正确
- 检查组件导入路径
- 查看浏览器控制台错误信息

### 2. API调用失败
- 检查后端服务是否运行
- 检查API接口路径是否正确
- 查看网络请求响应状态

### 3. 数据不显示
- 检查API返回数据格式
- 检查数据字段映射是否正确
- 查看控制台错误信息

### 4. 样式问题
- 检查Less文件是否正确导入
- 检查CSS类名是否正确
- 验证响应式样式

## 测试完成检查清单

- [ ] 页面正常访问
- [ ] Tab切换正常
- [ ] 管理员用户列表加载
- [ ] 商城用户列表加载
- [ ] 搜索功能正常
- [ ] 筛选功能正常
- [ ] 新增用户功能
- [ ] 编辑用户功能
- [ ] 删除用户功能
- [ ] 重置密码功能
- [ ] 启用/禁用功能
- [ ] 查看详情功能
- [ ] 表单验证正常
- [ ] 错误处理正常
- [ ] 响应式布局正常
- [ ] 权限控制正常