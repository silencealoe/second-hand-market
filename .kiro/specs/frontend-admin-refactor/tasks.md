# Frontend Admin 重构实施计划

## 概述

将基于 UmiJS 的 frontend-admin 项目重构为纯 React + Ant Design 架构，实现现代化深色主题管理界面，支持多主题切换，专注PC端体验。

## 任务

- [ ] 1. 项目初始化和环境配置
  - 创建新的 Vite + React + TypeScript 项目结构
  - 配置开发环境和构建工具
  - 安装必要的依赖包
  - _需求: 1.1, 1.3, 12.1, 12.2_

- [ ]* 1.1 编写项目初始化属性测试
  - **属性 4: 构建产物完整性**
  - **验证: 需求 13.1, 13.2**

- [ ] 2. 主题系统实现
  - [ ] 2.1 创建主题配置和CSS变量定义
    - 实现深色和浅色主题的CSS变量
    - 定义主题配置接口和类型
    - _需求: 2.1, 4.1, 4.2, 9.1, 9.3_

  - [ ] 2.2 实现ThemeProvider组件
    - 创建主题上下文和Provider组件
    - 实现主题切换逻辑和本地存储
    - _需求: 4.4, 4.5, 4.6_

  - [ ]* 2.3 编写主题切换属性测试
    - **属性 1: 主题切换一致性**
    - **验证: 需求 4.4, 4.5**

- [ ] 3. 布局组件开发
  - [ ] 3.1 创建主布局组件(MainLayout)
    - 实现整体布局结构
    - 集成Ant Design Layout组件
    - _需求: 5.2, 5.4_

  - [ ] 3.2 开发侧边导航组件(SideNavigation)
    - 实现固定宽度240px的侧边栏
    - 创建导航菜单：首页、用户管理、系统管理
    - 实现当前页面高亮和橙色选中状态
    - _需求: 2.2, 8.1, 8.3, 8.4_

  - [ ] 3.3 开发顶部导航组件(TopNavigation)
    - 实现系统标题显示
    - 添加主题切换按钮
    - 实现用户名称和头像显示
    - 创建用户下拉菜单和退出登录功能
    - _需求: 6.1, 6.2, 6.3, 6.4, 6.5_

  - [ ]* 3.4 编写UI组件渲染属性测试
    - **属性 5: UI组件渲染一致性**
    - **验证: 需求 2.2, 2.3, 6.1, 6.2**

- [ ] 4. 用户认证系统
  - [ ] 4.1 实现登录页面组件
    - 创建登录表单和样式
    - 实现用户认证逻辑
    - 集成深色主题设计
    - _需求: 7.2, 7.3, 7.4, 7.5_

  - [ ] 4.2 实现认证状态管理
    - 创建认证Context和Hook
    - 实现token和用户信息管理
    - 添加本地存储持久化
    - _需求: 6.5, 10.1_

  - [ ]* 4.3 编写用户认证属性测试
    - **属性 2: 用户认证状态一致性**
    - **验证: 需求 6.5, 10.2**

- [ ] 5. 路由系统配置
  - [ ] 5.1 配置React Router
    - 设置路由结构和导航
    - 实现路由重定向逻辑
    - _需求: 1.4, 10.1, 10.3, 10.4_

  - [ ] 5.2 实现路由保护
    - 创建PrivateRoute组件
    - 实现未认证用户重定向
    - _需求: 10.2, 10.5_

  - [ ]* 5.3 编写路由保护属性测试
    - **属性 3: 路由保护正确性**
    - **验证: 需求 10.2**

- [ ] 6. 仪表板页面开发
  - [ ] 6.1 创建仪表板主页面结构
    - 实现页面布局和容器组件
    - _需求: 3.1_

  - [ ] 6.2 开发指标卡片组件
    - 实现"日均单量"和"环比增长"卡片
    - 使用Ant Design统计组件
    - _需求: 3.1_

  - [ ] 6.3 开发图表组件
    - 集成ECharts图表库
    - 实现销售收益折线图
    - 实现商品分类统计柱状图
    - 实现支付方式占比饼图
    - _需求: 3.2, 3.3, 3.4, 3.6_

  - [ ] 6.4 开发数据表格组件
    - 实现会员列表表格
    - 包含用户信息、消费金额等字段
    - _需求: 3.5_

- [ ] 7. 样式和主题优化
  - [ ] 7.1 实现深色主题样式
    - 应用深蓝色背景色调
    - 确保文字可读性和对比度
    - 添加渐变色和阴影效果
    - _需求: 2.1, 2.6, 2.7_

  - [ ] 7.2 实现动画和交互效果
    - 添加平滑过渡动画
    - 实现鼠标悬停效果
    - 优化PC端交互体验
    - _需求: 2.8, 5.4, 8.2_

  - [ ] 7.3 优化卡片式布局设计
    - 实现现代化圆角设计
    - 应用橙色强调色
    - _需求: 2.5, 2.6_

- [ ] 8. 项目清理和优化
  - [ ] 8.1 移除UmiJS相关文件和配置
    - 删除.umirc.ts和相关配置
    - 清理UmiJS特有的约定文件
    - _需求: 1.2, 11.2, 11.3_

  - [ ] 8.2 清理未使用的页面和组件
    - 只保留登录页面和首页
    - 移除其他页面组件
    - _需求: 11.1, 11.2_

  - [ ] 8.3 优化依赖管理
    - 移除UmiJS相关依赖
    - 添加必要的React和Vite依赖
    - 保留Ant Design和图表库依赖
    - _需求: 12.1, 12.2, 12.3, 12.4_

- [ ] 9. 测试和验证
  - [ ] 9.1 单元测试编写
    - 测试组件渲染和交互
    - 测试主题切换功能
    - 测试用户认证流程
    - _需求: 所有功能需求_

  - [ ] 9.2 集成测试
    - 测试页面导航和路由
    - 测试主题持久化
    - 测试API集成
    - _需求: 所有功能需求_

  - [ ]* 9.3 端到端测试
    - 测试完整用户流程
    - 验证构建部署流程
    - _需求: 13.5_

- [ ] 10. 构建和部署配置
  - [ ] 10.1 配置生产构建
    - 优化Vite构建配置
    - 配置环境变量支持
    - _需求: 13.1, 13.3_

  - [ ] 10.2 配置API代理
    - 设置开发环境代理
    - 配置生产环境API调用
    - _需求: 13.4_

  - [ ] 10.3 验证部署兼容性
    - 测试构建产物在Web服务器运行
    - 验证生产环境功能
    - _需求: 13.2, 13.5_

- [ ] 11. 检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户

## 注意事项

- 标记为 `*` 的任务为可选任务，可以跳过以加快MVP开发
- 每个任务都引用了具体的需求编号以确保可追溯性
- 检查点任务确保增量验证
- 属性测试验证通用正确性属性
- 单元测试验证具体示例和边界情况